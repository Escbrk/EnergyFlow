{"version":3,"file":"modal-DAWlCa-1.js","sources":["../../src/js/refs.js","../../src/js/header.js","../../src/js/api.js","../../src/js/quote.js","../../src/js/globalState.js","../../src/js/capitalize.js","../../src/img/svg/sprite.svg","../../src/js/renderLocalData.js","../../src/js/handlers/deleteHandler.js","../../src/js/handlers/modal-handler.js","../../src/js/modal.js"],"sourcesContent":["export const refs = {\n  mobileMenu: document.querySelector('.mobile-menu'),\n  mobileMenuBtn: document.querySelector('.mobile-menu-btn'),\n  closeMobileMenuBtn: document.querySelector('.close-btn'),\n  exerciseList: document.querySelector('.exercise-list'),\n  categoryContainer: document.querySelector('.category-container'),\n  exerciseSearchForm: document.querySelector('.exercise-search-form'),\n  backdrop: document.querySelector('.backdrop'),\n  pagination: document.querySelector('.pagination'),\n  favList: document.querySelector('.fav-list'),\n  emptyWrapper: document.querySelector('.empty-wrapper')\n};\n","import { refs } from './refs.js';\nconst currentPage = location.pathname.split('/').pop() || 'index.html';\n\ndocument\n  .querySelectorAll('.header-menu-link, .mobile-nav-link')\n  .forEach(link => {\n    const href = link.getAttribute('href').split('/').pop();\n\n    if (currentPage.endsWith(href)) {\n      link.classList.add('active');\n    }\n  });\n\nrefs.mobileMenuBtn.addEventListener('click', () => {\n  refs.mobileMenu.classList.remove('hidden');\n});\n\nrefs.closeMobileMenuBtn.addEventListener('click', () => {\n  refs.mobileMenu.classList.add('hidden');\n});\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://energyflow.b.goit.study/api/';\n\nexport const getQuote = async () => {\n  const { data } = await axios.get('quote');\n  return data;\n};\n\nlet limit;\n\nexport const getExercise = async (query = 'Muscles', page = 1) => {\n  limit = window.innerWidth <= 767 ? 8 : 12;\n\n  const { data } = await axios.get(\n    `filters?filter=${query}&page=${page}&limit=${limit}`\n  );\n\n  return data;\n};\n\nexport const getExerciseInfo = async (\n  category,\n  query,\n  page = 1,\n  searchTarget = ''\n) => {\n  limit = window.innerWidth <= 1439 ? 8 : 9;\n\n  const fixedCategory = category.includes(' ') ? 'bodypart' : category;\n\n  const { data } = await axios.get(\n    `exercises?${fixedCategory.toLowerCase()}=${query}&keyword=${searchTarget}&page=${page}&limit=${limit}`\n  );\n\n  return data;\n};\n\nexport const getExerciseById = async id => {\n  const { data } = await axios.get(`exercises/${id}`);\n\n  return data;\n};\n","import { getQuote } from './api.js';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst quoteBlock = document.getElementById('quote');\n\nconst createQuoteMarkup = async () => {\n  let stored = localStorage.getItem('DailyQuote');\n  let data = stored ? JSON.parse(stored) : null;\n\n  const dailyQuote = {\n    text: quoteBlock.querySelector('.quote-text'),\n    author: quoteBlock.querySelector('.author-name'),\n  };\n\n  const isExpired = !data || Date.now() - data.dateStamp > 86400000;\n\n  if (isExpired) {\n    try {\n      const { author, quote } = await getQuote();\n      data = { author, quote, dateStamp: Date.now() };\n\n      localStorage.setItem('DailyQuote', JSON.stringify(data));\n    } catch (err) {\n      iziToast.error({\n        title: 'Error',\n        message: 'Failed to fetch Daily Quote',\n      });\n\n      iziToast.info({\n        title: 'Info!',\n        message: 'Default quote was setting up!',\n      });\n\n      data = { author: 'EnergyFlow', quote: 'Stay active' };\n    }\n  }\n\n  if (dailyQuote.text && dailyQuote.author) {\n    dailyQuote.text.textContent = data.quote;\n    dailyQuote.author.textContent = data.author;\n  }\n};\n\ncreateQuoteMarkup();\n","export const globalState = {\n  query: '',\n  category: '',\n  searchTarget: '',\n  data: null,\n};\n\n","export const capitalize = str =>\n  str ? str[0].toUpperCase() + str.slice(1) : '';\n","export default \"__VITE_ASSET__CX_vQ4M4__\"","import { refs } from './refs.js';\nimport spritePath from '../img/svg/sprite.svg';\n\nexport const renderLocalData = () => {\n  const localData = JSON.parse(localStorage.getItem('Favorites'));\n  const markup = localData\n    .map(({ name, bodyPart, burnedCalories, time, target, _id }) => {\n      return `\n            <li class=\"exercise-info\" data-id=${_id}>\n              <button class=\"startBtn\" type=\"button\" >Start\n                <svg class=\"exercise-arrow-icon\">\n                  <use href=\"${spritePath}#icon-arrow\"></use>\n                </svg>\n              </button>\n             <div class=\"wrapp\">\n                <p class=\"info-label\">Workout</p>\n                 <button type=\"button\" class=\"deleteBtn\">\n                    <svg class=\"info-delete\">\n                      <use href=\"${spritePath}#icon-trash\"></use>\n                    </svg>\n                 </button>\n             </div>\n                <div class=\"info-wrapper\">\n                  <svg class=\"exercise-icon\">\n                    <use href=\"${spritePath}#icon-man\"></use>\n                  </svg>\n                  <h2 class=\"info-title\">${name}</h2>\n                </div>\n                  <ul class=\"info-list\">\n                    <li class=\"info-item\">Burned calories: <span>${burnedCalories} / ${time} min</span></li>\n                    <li class=\"info-item\">Body part: <span>${bodyPart}</span></li>\n                    <li class=\"info-item\">Target: <span>${target}</span></li>\n                  </ul>\n            </li>\n    `;\n    })\n    .join('');\n\n  if (refs.favList) {\n    refs.favList.innerHTML = markup;\n    refs.emptyWrapper.style.display = localData.length === 0 ? 'flex' : 'none';\n  }\n};\n\nrenderLocalData();\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport const deleteItem = id => {\n  const savedData = JSON.parse(localStorage.getItem('Favorites'));\n\n  const updatedData = savedData.filter(({ _id }) => _id !== id);\n\n  localStorage.setItem('Favorites', JSON.stringify(updatedData));\n  iziToast.success({\n    title: 'Succes',\n    message: 'Succesfully deleted from your favorite list',\n  });\n};\n","import { refs } from '../refs.js';\nimport { globalState } from '../globalState.js';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { renderLocalData } from '../renderLocalData.js';\nimport { deleteItem } from './deleteHandler.js';\n\nrefs.backdrop.addEventListener('click', e => {\n  const closeModalBtn = e.target.closest('.close-modal-btn');\n  const favoritesBtn = e.target.closest('.favorite-btn');\n  // const ratingBtn = e.target.closest('.rating-btn');\n\n  const savedData = JSON.parse(localStorage.getItem('Favorites')) || [];\n\n  if (favoritesBtn) {\n    const action = favoritesBtn.dataset.action;\n    if (action === 'add') {\n      const exist = savedData.some(({ _id }) => _id === globalState.data._id);\n\n      if (exist && exist.length !== 0) {\n        iziToast.warning({\n          title: 'Warning',\n          message: 'Already exist in your favorite list',\n        });\n        return;\n      }\n\n      savedData.push(globalState.data);\n      localStorage.setItem('Favorites', JSON.stringify(savedData));\n      iziToast.success({\n        title: 'Succes',\n        message: 'Succesfully added to your favorite list',\n      });\n    }\n\n    if (action === 'delete') {\n      const id = e.target.closest('.modal-window').dataset.id;\n\n      deleteItem(id);\n      renderLocalData();\n      refs.backdrop.classList.add('hidden');\n      document.body.classList.remove('noScroll');\n    }\n  }\n\n  if (closeModalBtn || e.target.classList.contains('backdrop')) {\n    refs.backdrop.classList.add('hidden');\n    document.body.classList.remove('noScroll');\n  }\n});\n\ndocument.body.addEventListener('keydown', e => {\n  if (!refs.backdrop.classList.contains('hidden') && e.code === 'Escape') {\n    refs.backdrop.classList.add('hidden');\n    document.body.classList.remove('noScroll');\n  }\n});\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { refs } from './refs.js';\nimport { globalState } from './globalState.js';\nimport { getExerciseById } from './api.js';\nimport spritePath from '../img/svg/sprite.svg';\nimport { capitalize } from './capitalize.js';\n\nimport './handlers/modal-handler.js';\n\niziToast.settings({\n  zindex: 999999,\n  position: 'bottomRight',\n});\n\nexport const renderExerciseById = async (id, type) => {\n  try {\n    globalState.data = await getExerciseById(id);\n\n    const {\n      name,\n      bodyPart,\n      target,\n      rating,\n      equipment,\n      popularity,\n      burnedCalories,\n      description,\n      gifUrl,\n      _id,\n    } = globalState.data;\n\n    const formattedRating = String(rating.toFixed(1));\n\n    const favBtn =\n      type === 'available'\n        ? `\n            <button type=\"button\" class=\"favorite-btn\" data-action=\"add\">\n              Add to favorites\n              <svg>\n                <use href=\"${spritePath}#icon-heart\"></use>\n              </svg>\n            </button>`\n        : `<button type=\"button\" class=\"favorite-btn\" data-action=\"delete\">\n              Remove\n              <svg>\n                <use href=\"${spritePath}#icon-heart-broken\"></use>\n              </svg>\n            </button>`;\n\n    const markup = `\n    <div class=\"modal-window\" data-id=\"${_id}\">\n      <button type=\"button\" class=\"close-modal-btn\">\n        <svg>\n          <use href=\"${spritePath}#icon-close\"></use>\n        </svg>\n      </button>\n\n      <div class=\"gif-wrapper\">\n        <img\n          src=${gifUrl}\n          alt=${capitalize(name)}\n          class=\"modal-gif\"\n        />\n      </div>\n      <div class=\"text-wrapper\">\n        <h2 class=\"modal-title\">${capitalize(name)}</h2>\n        <p class=\"modal-rating\">\n          ${formattedRating}\n          <svg>\n            <use href=\"${spritePath}#icon-star\"></use>\n          </svg>\n        </p>\n\n        <ul class=\"stats-list\">\n          <li class=\"stats-item\">\n            Target\n            <span>${capitalize(target)}</span>\n          </li>\n          <li class=\"stats-item\">\n            Body Part\n            <span>${capitalize(bodyPart)}</span>\n          </li>\n          <li class=\"stats-item\">\n            Equipment\n            <span>${capitalize(equipment)}</span>\n          </li>\n          <li class=\"stats-item\">\n            Popularity\n            <span>${popularity}</span>\n          </li>\n          <li class=\"stats-item\">\n            Burned Calories\n            <span>${burnedCalories}/3 min</span>\n          </li>\n        </ul>\n\n        <p class=\"modal-description\">\n        ${description}\n        </p>\n\n        <ul class=\"btns-list\">\n          <li>\n          ${favBtn}\n          </li>\n          <li>\n            <button type=\"button\" class=\"rating-btn\">Give a rating</button>\n          </li>\n        </ul>\n      </div>\n    </div>\n  `;\n\n    refs.backdrop.innerHTML = markup;\n    refs.backdrop.classList.remove('hidden');\n    document.body.classList.add('noScroll');\n  } catch (error) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Failed to fetch current exercise',\n    });\n\n    setTimeout(() => {\n      refs.backdrop.classList.add('hidden');\n    }, 0);\n  }\n};\n"],"names":["refs","currentPage","link","href","axios","getQuote","data","limit","getExercise","query","page","getExerciseInfo","category","searchTarget","fixedCategory","getExerciseById","id","quoteBlock","createQuoteMarkup","stored","dailyQuote","author","quote","iziToast","globalState","capitalize","str","spritePath","renderLocalData","localData","markup","name","bodyPart","burnedCalories","time","target","_id","deleteItem","updatedData","closeModalBtn","favoritesBtn","savedData","action","exist","renderExerciseById","type","rating","equipment","popularity","description","gifUrl","formattedRating","favBtn"],"mappings":"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"}