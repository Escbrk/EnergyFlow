{"version":3,"file":"index.js","sources":["../src/js/api.js","../src/js/main.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://energyflow.b.goit.study/api/';\n\nexport const getQuote = async () => {\n  const { data } = await axios.get('quote');\n  return data;\n};\n\nexport const getExercise = async (query = 'Muscles', page = 1) => {\n  const windowWidth = window.innerWidth;\n  let limit = null;\n\n  if (windowWidth <= 767) {\n    limit = 8;\n  } else {\n    limit = 12;\n  }\n\n  const { data } = await axios.get(\n    `filters?filter=${query}&page=${page}&limit=${limit}`\n  );\n\n  return data;\n};\n\nexport const getExerciseInfo = () => {\n  const { data } = axios.get(\n    `exercises?bodypart=back&muscles=lats&equipment=barbell&keyword=pull&page=1&limit=10`\n  );\n\n  return data;\n};\n","import '../css/styles.css';\nimport { getQuote, getExercise } from './api.js';\n\nconst refs = {\n  quoteBlock: document.getElementById('quote'),\n  exerciseList: document.querySelector('.exercise-list'),\n  pagesList: document.querySelector('.pages-list'),\n  filterList: document.querySelector('.filter-list'),\n};\n\nconst createQuoteMarkup = async () => {\n  const { author, quote } = await getQuote();\n\n  refs.quoteBlock.children[1].textContent = quote;\n  refs.quoteBlock.children[2].textContent = author;\n};\n\nlet query;\n\nconst renderExercise = async (query, choosenPage) => {\n  const { results, totalPages, page } = await getExercise(query, choosenPage);\n\n  const markup = results\n    .map(({ imgUrl, name, filter }) => {\n      return `\n          <li class=\"exercise-item\" style=\"--img: url(${imgUrl})\">\n            <h3 class=\"exercise-subtitle\">${name}</h3>\n            <p class=\"exercise-name\">${filter}</p>\n          </li>\n          `;\n    })\n    .join('');\n\n  refs.exerciseList.innerHTML = markup;\n\n  let pages = '';\n\n  for (let i = 1; i <= totalPages; i++) {\n    pages += `<li class=\"pages_list-item\">\n                <button type=\"button\" class=\"pages_list-btn\">${i}</button>\n              </li>`;\n  }\n  refs.pagesList.innerHTML = pages;\n\n  setActivePage(page);\n};\n\nconst setActivePage = activePage => {\n  const pageListBtn = [...document.querySelectorAll('.pages_list-btn')];\n\n  pageListBtn.forEach(el => {\n    const numericPage = parseFloat(el.textContent);\n    const currentPage = parseFloat(activePage);\n    if (numericPage === currentPage) {\n      el.classList.add('active');\n      el.disabled = true;\n    } else {\n      el.classList.remove('active');\n      el.disabled = false;\n    }\n  });\n};\n\ncreateQuoteMarkup();\nrenderExercise();\n\nrefs.pagesList.addEventListener('click', e => {\n  e.preventDefault();\n\n  if (e.target.classList.contains('pages_list-btn')) {\n    const page = parseFloat(e.target.textContent);\n    renderExercise(query, page);\n  }\n});\n\nrefs.filterList.addEventListener('click', e => {\n  e.preventDefault();\n\n  const target = e.target.dataset.filter;\n  query = e.target.textContent.trim().split(' ').join('+');\n  const btn = [...refs.filterList.querySelectorAll('button[data-filter]')];\n\n  if (target) {\n    btn.forEach(el => {\n      el.classList.remove('active');\n      el.disabled = false;\n    });\n\n    e.target.classList.add('active');\n    e.target.disabled = true;\n  }\n\n  if (query) {\n    renderExercise(query);\n  }\n});\n"],"names":["axios","getQuote","data","getExercise","query","page","windowWidth","limit","refs","createQuoteMarkup","author","quote","renderExercise","choosenPage","results","totalPages","markup","imgUrl","name","filter","pages","i","setActivePage","activePage","el","numericPage","currentPage","e","target","btn"],"mappings":"svBAEAA,EAAM,SAAS,QAAU,uCAElB,MAAMC,EAAW,SAAY,CAClC,KAAM,CAAE,KAAAC,CAAI,EAAK,MAAMF,EAAM,IAAI,OAAO,EACxC,OAAOE,CACT,EAEaC,EAAc,MAAOC,EAAQ,UAAWC,EAAO,IAAM,CAChE,MAAMC,EAAc,OAAO,WAC3B,IAAIC,EAAQ,KAERD,GAAe,IACjBC,EAAQ,EAERA,EAAQ,GAGV,KAAM,CAAE,KAAAL,CAAI,EAAK,MAAMF,EAAM,IAC3B,kBAAkBI,CAAK,SAASC,CAAI,UAAUE,CAAK,EACvD,EAEE,OAAOL,CACT,ECrBMM,EAAO,CACX,WAAY,SAAS,eAAe,OAAO,EAC3C,aAAc,SAAS,cAAc,gBAAgB,EACrD,UAAW,SAAS,cAAc,aAAa,EAC/C,WAAY,SAAS,cAAc,cAAc,CACnD,EAEMC,EAAoB,SAAY,CACpC,KAAM,CAAE,OAAAC,EAAQ,MAAAC,GAAU,MAAMV,EAAQ,EAExCO,EAAK,WAAW,SAAS,CAAC,EAAE,YAAcG,EAC1CH,EAAK,WAAW,SAAS,CAAC,EAAE,YAAcE,CAC5C,EAEA,IAAIN,EAEJ,MAAMQ,EAAiB,MAAOR,EAAOS,IAAgB,CACnD,KAAM,CAAE,QAAAC,EAAS,WAAAC,EAAY,KAAAV,CAAI,EAAK,MAAMF,EAAYC,EAAOS,CAAW,EAEpEG,EAASF,EACZ,IAAI,CAAC,CAAE,OAAAG,EAAQ,KAAAC,EAAM,OAAAC,CAAM,IACnB;AAAA,wDAC2CF,CAAM;AAAA,4CAClBC,CAAI;AAAA,uCACTC,CAAM;AAAA;AAAA,WAGxC,EACA,KAAK,EAAE,EAEVX,EAAK,aAAa,UAAYQ,EAE9B,IAAII,EAAQ,GAEZ,QAASC,EAAI,EAAGA,GAAKN,EAAYM,IAC/BD,GAAS;AAAA,+DACkDC,CAAC;AAAA,qBAG9Db,EAAK,UAAU,UAAYY,EAE3BE,EAAcjB,CAAI,CACpB,EAEMiB,EAAgBC,GAAc,CACd,CAAC,GAAG,SAAS,iBAAiB,iBAAiB,CAAC,EAExD,QAAQC,GAAM,CACxB,MAAMC,EAAc,WAAWD,EAAG,WAAW,EACvCE,EAAc,WAAWH,CAAU,EACrCE,IAAgBC,GAClBF,EAAG,UAAU,IAAI,QAAQ,EACzBA,EAAG,SAAW,KAEdA,EAAG,UAAU,OAAO,QAAQ,EAC5BA,EAAG,SAAW,GAEpB,CAAG,CACH,EAEAf,IACAG,IAEAJ,EAAK,UAAU,iBAAiB,QAASmB,GAAK,CAG5C,GAFAA,EAAE,eAAc,EAEZA,EAAE,OAAO,UAAU,SAAS,gBAAgB,EAAG,CACjD,MAAMtB,EAAO,WAAWsB,EAAE,OAAO,WAAW,EAC5Cf,EAAeR,EAAOC,CAAI,CAC3B,CACH,CAAC,EAEDG,EAAK,WAAW,iBAAiB,QAASmB,GAAK,CAC7CA,EAAE,eAAc,EAEhB,MAAMC,EAASD,EAAE,OAAO,QAAQ,OAChCvB,EAAQuB,EAAE,OAAO,YAAY,KAAI,EAAG,MAAM,GAAG,EAAE,KAAK,GAAG,EACvD,MAAME,EAAM,CAAC,GAAGrB,EAAK,WAAW,iBAAiB,qBAAqB,CAAC,EAEnEoB,IACFC,EAAI,QAAQL,GAAM,CAChBA,EAAG,UAAU,OAAO,QAAQ,EAC5BA,EAAG,SAAW,EACpB,CAAK,EAEDG,EAAE,OAAO,UAAU,IAAI,QAAQ,EAC/BA,EAAE,OAAO,SAAW,IAGlBvB,GACFQ,EAAeR,CAAK,CAExB,CAAC"}