{"version":3,"file":"index.js","sources":["../src/js/api.js","../src/js/main.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://energyflow.b.goit.study/api/';\n\nexport const getQuote = async () => {\n  const { data } = await axios.get('quote');\n  return data;\n};\n\nexport const getExercise = async (query = 'Muscles', page = 1) => {\n  const windowWidth = window.innerWidth;\n  let limit = null;\n\n  if (windowWidth <= 767) {\n    limit = 8;\n  } else {\n    limit = 12;\n  }\n\n  const { data } = await axios.get(\n    `filters?filter=${query}&page=${page}&limit=${limit}`\n  );\n\n  return data;\n};\n\nexport const getExerciseInfo = async (category, query, page = 1) => {\n  const windowWidth = window.innerWidth;\n  let limit = null;\n\n  if (windowWidth <= 1439) {\n    limit = 8;\n  } else {\n    limit = 9;\n  }\n\n  const { data } = await axios.get(\n    `exercises?${category}=${query}&page=${page}&limit=${limit}`\n  );\n\n  return data;\n};\n\n","import { getQuote, getExercise, getExerciseInfo } from './api.js';\n\nconst refs = {\n  quoteBlock: document.getElementById('quote'),\n  exerciseList: document.querySelector('.exercise-list'),\n  pagination: document.querySelector('.pagination'),\n  filterList: document.querySelector('.filter-list'),\n  exerciseCategory: document.querySelector('.exercise-category'),\n};\n\nconst createQuoteMarkup = async () => {\n  if (!localStorage.getItem('DailyQuote')) {\n    const { author, quote } = await getQuote();\n\n    const date = new Date();\n    const quoteData = {\n      quote,\n      author,\n      date: `Day: ${date.getDay()} / Month: ${date.getMonth()} / Year: ${date.getFullYear()}`,\n    };\n\n    localStorage.setItem('DailyQuote', JSON.stringify(quoteData));\n    refs.quoteBlock.children[1].textContent = quote;\n    refs.quoteBlock.children[2].textContent = author;\n  } else {\n    const today = new Date();\n    const dateNow = `Day: ${today.getDay()} / Month: ${today.getMonth()} / Year: ${today.getFullYear()}`;\n    const { quote, author, date } = JSON.parse(\n      localStorage.getItem('DailyQuote')\n    );\n\n    if (date === dateNow) {\n      refs.quoteBlock.children[1].textContent = quote;\n      refs.quoteBlock.children[2].textContent = author;\n    }\n  }\n};\n\nlet query;\nlet category;\nconst exerciseFilterBtn = [\n  ...refs.filterList.querySelectorAll('button[data-filter]'),\n];\n\nconst renderExercise = async (query, choosenPage) => {\n  const { results, totalPages, page } = await getExercise(query, choosenPage);\n  const markup = results\n    .map(\n      ({ imgUrl, name, filter }) => `\n          <li class=\"exercise-item\" style=\"--img: url(${imgUrl})\">\n            <h3 class=\"exercise-subtitle\">${name}</h3>\n            <p class=\"exercise-name\">${filter}</p>\n          </li>\n          `\n    )\n    .join('');\n\n  refs.exerciseList.innerHTML = markup;\n\n  exerciseFilterBtnMarkup(totalPages);\n  setActivePage(page);\n};\n\nconst exerciseFilterBtnMarkup = totalPages => {\n  let pages = '';\n\n  for (let i = 1; i <= totalPages; i++) {\n    pages += `<li class=\"pages_list-item\">\n                <button type=\"button\" class=\"pages_list-btn\">${i}</button>\n              </li>`;\n  }\n  refs.pagination.innerHTML = pages;\n};\n\nconst renderInfo = async (category, query, currentPage) => {\n  const { results, totalPages, page } = await getExerciseInfo(\n    category,\n    query,\n    currentPage\n  );\n  const markup = results\n    // .filter(el => el.bodyPart === query)\n    .map(({ target, rating, burnedCalories, bodyPart, time, name }) => {\n      const formattedRating = String(rating.toFixed(1)).padEnd(2, 0);\n\n      return `\n            <li class=\"exercise-info\">\n              <button class=\"startBtn\" type=\"button\">Start -></button>\n              <p class=\"info-label\">Workout</p>\n              <span class=\"info-ranking\">${formattedRating}</span>\n              <h2 class=\"info-title\">${name}</h2>\n                  <ul class=\"info-list\">\n                    <li class=\"info-item\">Burned calories: <span>${burnedCalories} / ${time} min</span></li>\n                    <li class=\"info-item\">Body part: <span>${bodyPart}</span></li>\n                    <li class=\"info-item\">Target: <span>${target}</span></li>\n                  </ul>\n            </li>\n    `;\n    })\n    .join('');\n\n  // refs.exerciseCategory.innerHTML = `${}`\n  refs.exerciseList.innerHTML = markup;\n\n  // exerciseFilterBtnMarkup(totalPages); //! Turn back on\n  setActivePage(page);\n};\n\nconst setActivePage = activePage => {\n  const pageListexerciseFilterBtn = [\n    ...document.querySelectorAll('.pages_list-btn'),\n  ];\n\n  pageListexerciseFilterBtn.forEach(el => {\n    const numericPage = parseFloat(el.textContent);\n    const currentPage = parseFloat(activePage);\n    if (numericPage === currentPage) {\n      el.classList.add('active');\n      el.disabled = true;\n    } else {\n      el.classList.remove('active');\n      el.disabled = false;\n    }\n  });\n};\n\ncreateQuoteMarkup();\nrenderExercise();\n\nrefs.pagination.addEventListener('click', e => {\n  if (e.target.classList.contains('pages_list-btn')) {\n    const page = parseFloat(e.target.textContent);\n    const target = document.querySelector('.exercise-info');\n\n    target ? renderInfo(category, query, page) : renderExercise(query, page);\n  }\n});\n\nrefs.filterList.addEventListener('click', e => {\n  const target = e.target.dataset.filter;\n  query = e.target.textContent.trim();\n\n  if (target) {\n    exerciseFilterBtn.forEach(el => {\n      el.classList.remove('active');\n      el.disabled = false;\n    });\n\n    e.target.classList.add('active');\n    e.target.disabled = true;\n    renderExercise(query);\n  }\n});\n\nrefs.exerciseList.addEventListener('click', e => {\n  const target = e.target.closest('.exercise-item');\n\n  if (target) {\n    query = target.children[0].textContent;\n    category = target.children[1].textContent;\n\n    exerciseFilterBtn.forEach(el => {\n      el.disabled = false;\n    });\n\n    renderInfo(category, query);\n  }\n});\n"],"names":["axios","getQuote","data","getExercise","query","page","windowWidth","limit","getExerciseInfo","category","refs","createQuoteMarkup","today","dateNow","quote","author","date","quoteData","exerciseFilterBtn","renderExercise","choosenPage","results","totalPages","markup","imgUrl","name","filter","exerciseFilterBtnMarkup","setActivePage","pages","i","renderInfo","currentPage","target","rating","burnedCalories","bodyPart","time","activePage","el","numericPage"],"mappings":"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"}